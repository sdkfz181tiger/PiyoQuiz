<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<!-- PWA for iOS -->
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="orange">
	<meta name="apple-mobile-web-app-title" content="ITぴよクイズ">
	<link rel="apple-touch-icon" href="./pwa/icon152x152.png">
	<!-- PWA for Android -->
	<link rel="manifest" href="./pwa/manifest.json">
	<!-- Favicon -->
	<link rel="shortcut icon" href="./pwa/favicon.ico">
	<!-- Stylesheet -->
	<link rel="stylesheet" href="//fonts.googleapis.com/css?family=M+PLUS+1p">
	<link rel="stylesheet" href="./css/custom.css">
	<!-- Title -->
	<title>ITぴよクイズ</title>
</head>
<body>
	<div id="app">
		<div v-if="!quiz">
			<!-- タイトル画面(ここから) -->
			<div id="l-title">ITぴよクイズ</div>
			<div id="l-piyo-logo">
				<img v-bind:src="piyoImg">
			</div>
			<div id="l-piyo-msg">
				{{ piyoMsg }}
			</div>
			<div id="l-start">
				<button v-on:click="clickStart"/>クイズ開始</button>
			</div>
			<div>
				イラスト:<a href="https://hiyokoyarou.com/" target="_blank">ぴよたそ</a>
			</div>
			<!-- タイトル画面(ここまで) -->
		</div>
		<div v-else>
			<div v-if="0 <= lifeNum">
				<!-- クイズ画面(ここから) -->
				<div id="l-status">
					<div id="l-left">
						問題: {{ quizIndex+1 }}
					</div>
					<div id="l-right">
						{{ quiz.genre }}_{{quiz.exam}}
					</div>
				</div>
				<div id="l-quiz">
					{{ quiz.msg }}
				</div>
				<div id="l-btns">
					<div v-for="btn of quiz.btns">
						<div v-if="answerFlg">
							<div v-if="quiz.answer==btn">
								<button class="blue" v-html="btn"></button>
							</div>
							<div v-else>
								<button class="gray" v-html="btn"></button>
							</div>
						</div>
						<div v-else>
							<button v-on:click="clickAnswer(btn)" v-html="btn"></button>
						</div>
					</div>
				</div>
				<div id="l-piyo-area">
					<div id="l-left">
						<div id="l-label">ライフ</div>
						<div id="l-hearts" v-for="i in lifeMax">
							<img v-if="i <= lifeNum" src="./images/heart_on.png">
							<img v-else src="./images/heart_off.png">
						</div>
					</div>
					<div id="l-right" v-if="!answerFlg">
						{{ piyoMsg }}<br/>頑張ってね!!
					</div>
					<div id="l-right" v-else>
						{{ piyoMsg }} {{ quiz.detail }}
					</div>
					<div id="l-float">
						<img v-bind:src="piyoImg">
					</div>
				</div>
				<div id="l-next" v-if="answerFlg">
					<div v-if="quizIndex < quizes.length-1 && 0 < lifeNum">
						<button v-on:click="clickNext">次の問題へ</button>
					</div>
					<div v-else>
						<button v-on:click="clickResult">結果画面へ</button>
					</div>
				</div>
				<div v-else id="l-next"></div>
				<div id="l-popup">
					<img v-bind:src="popupImg">
				</div>
				<!-- クイズ画面(ここまで) -->
			</div>
			<div v-else>
				<!-- 結果画面(ここから) -->
				<div id="l-status">
					あたり:{{ cntOK }}問, はずれ:{{ cntNG }}問
				</div>
				<div id="l-score">
					{{ cntOK }}問正解!!
				</div>
				<div id="l-piyo-result">
					<img v-bind:src="piyoImg">
				</div>
				<div id="l-piyo-msg">
					<div v-if="60 <= cntOK">
						免許皆伝ぴよ!!
					</div>
					<div v-else-if="30 <= cntOK">
						結構当たったぴよ!!
					</div>
					<div v-else-if="10 <= cntOK">
						まずまず当たったぴよ!!
					</div>
					<div v-else>
						次は頑張るぴよ!!
					</div>
				</div>
				<div id="l-reset">
					<button v-on:click="clickReset"/>タイトルに戻る</button>
				</div>
				<!-- 結果画面(ここまで) -->
			</div>
		</div>
	</div>
	<div id="ad_display_area"></div>
	<div id="l-powered">
		クイズ監修:<a href="https://www.mag2.com/m/0000001414" target="_blank">宿題メール</a>
	</div>
	<!-- JavaScript -->
	<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/gsap.min.js"></script>
	<script src="//cdn.jsdelivr.net/npm/howler@2.2.3/dist/howler.js"></script>
	<script src="//cdn.jsdelivr.net/npm/axios@0.21.1/dist/axios.min.js"></script>
	<script src="//unpkg.com/vue@next"></script>
	<script src="./js/utility.js"></script>
	<script src="./js/main.js"></script>
</body>
</html>